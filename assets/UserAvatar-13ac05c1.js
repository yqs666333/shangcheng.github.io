import{_ as U}from"./PageContainer-5999d4e9.js";import{u as k,r as _,o,c as p,b as a,d as s,x as E,f as r,e as x,g as i,bO as A,E as w,A as b,aR as d,bP as B}from"./index-f66634d2.js";import{_ as R,E as S}from"./_plugin-vue_export-helper-561f76c0.js";import{E as C}from"./el-progress-53197a38.js";import"./el-message-77e8623b.js";import"./isEqual-ce0ba865.js";const N=["src"],V={__name:"UserAvatar",setup(z){const l=k(),t=_(l.user.user_pic),n=_(),f=c=>{const e=new FileReader;e.readAsDataURL(c.raw),e.onload=()=>{t.value=e.result}},m=async()=>{await A(t.value),await l.getUser(),w.success("头像更新成功")};return(c,e)=>{const v=b,g=C,u=S,y=U;return o(),p(y,{title:"更换头像"},{default:a(()=>[s(g,{ref_key:"uploadRef",ref:n,"auto-upload":!1,class:"avatar-uploader","show-file-list":!1,"on-change":f},{default:a(()=>[t.value?(o(),E("img",{key:0,src:t.value,class:"avatar"},null,8,N)):(o(),p(v,{key:1,class:"avatar-uploader-icon"},{default:a(()=>[s(r(d))]),_:1}))]),_:1},512),e[3]||(e[3]=x("br",null,null,-1)),s(u,{onClick:e[0]||(e[0]=F=>n.value.$el.querySelector("input").click()),type:"primary",icon:r(d),size:"large"},{default:a(()=>e[1]||(e[1]=[i("选择图片")])),_:1},8,["icon"]),s(u,{onClick:m,type:"success",icon:r(B),size:"large"},{default:a(()=>e[2]||(e[2]=[i("上传头像")])),_:1},8,["icon"])]),_:1})}}},O=R(V,[["__scopeId","data-v-55292731"]]);export{O as default};
